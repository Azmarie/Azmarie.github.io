{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2015-11-16-ember-js-functional-programming-and-the-observer-effect/","result":{"data":{"site":{"siteMetadata":{"title":"no.lol","author":"Azmarie Wang"}},"markdownRemark":{"id":"bf39fc4a-e44d-5020-a05c-d928dacbba99","excerpt":"My awesome colleagues have written about patterns and best practices we use at DockYard, covering everything from the Ember Object model and better acceptance…","html":"<p>My awesome colleagues have written about patterns and <a href=\"https://dockyard.com/blog/categories/best-practices\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">best practices</a> we use at <a href=\"https://dockyard.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">DockYard</a>, covering everything from the <a href=\"https://dockyard.com/blog/2015/10/19/2015-dont-dont-override-init\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ember</a> <a href=\"https://dockyard.com/blog/2015/09/18/ember-best-practices-avoid-leaking-state-into-factories\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Object</a> <a href=\"https://dockyard.com/blog/2015/11/09/best-practices-extend-or-mixin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">model</a> and <a href=\"https://dockyard.com/blog/2015/09/25/ember-best-practices-acceptance-tests\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">better acceptance tests</a>, to <a href=\"https://dockyard.com/blog/2015/10/05/ember-best-practices-using-native-input-elements\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">native inputs</a> and <a href=\"https://dockyard.com/blog/2015/10/29/ember-best-practice-stop-bubbling-and-use-closure-actions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">closure actions</a>.</p>\n<p>Today, I’d like to write about something that is close to all our hearts — observers; and a topic I think about a lot — functional programming (FP). I’d like to take you through a tour of refactoring away from observers in your application and freeing yourself from the shackles of the “observer effect”. Let’s get started!</p>\n<h4 id=\"side-effects-wreck-projects\" style=\"position:relative;\"><a href=\"#side-effects-wreck-projects\" aria-label=\"side effects wreck projects permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Side effects wreck projects</h4>\n<p>In science, the term <a href=\"https://en.wikipedia.org/wiki/Observer_effect_%28physics%29\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">“observer effect”</a> refers to the changes that are effected on some phenomenon simply by observing it. This is often because of instruments that alter the state of what they observe in some manner.</p>\n<p>Sound familiar? Funnily enough, the same effect can probably be found in your Ember application if you use observers. For reasons we’ll cover in this post, <a href=\"https://www.youtube.com/watch?v=7PUX27RKCq0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">observers are an anti-pattern</a> and should be avoided, as it makes it difficult to reason about and debug your application.</p>\n<h4 id=\"difficult-to-reason-about-¯_ツ_¯\" style=\"position:relative;\"><a href=\"#difficult-to-reason-about-%C2%AF_%E3%83%84_%C2%AF\" aria-label=\"difficult to reason about ¯_ツ_¯ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Difficult to reason about? ¯\\_(ツ)_/¯</h4>\n<p>“Difficult to reason about” is a term that is commonly thrown around — but what exactly does it mean? Informally, it means being able to tell what a program will do just by looking at its code. That is, running the program <em>should not</em> lead to unexpected surprises. We strive to make our applications easy to reason about because it leads to more maintainable code that is easier to debug and test.</p>\n<blockquote>\n<p>That is, running the program should not lead to unexpected surprises.</p>\n</blockquote>\n<p>Since JavaScript isn’t a purely functional language, it does not enforce immutability by default. Its mutable data structures can sometimes lead to surprising and unintuitive results (making some JavaScript applications difficult to reason about), so various attempts have been made to introduce immutability to the language.</p>\n<p>For example, <a href=\"https://github.com/clojure/clojurescript\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ClojureScript</a> and <a href=\"http://elm-lang.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Elm</a> are functional languages that compile down to JavaScript. <a href=\"https://swannodette.github.io/mori/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Mori</a> and <a href=\"https://facebook.github.io/immutable-js/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">immutable.js</a> are also excellent libraries that provide immutable data structures you can use in vanilla JavaScript. These tools bring in bits of FP philosophy into JavaScript applications, and have become increasingly popular in front-end development thanks to the introduction of React and the Flux pattern.</p>\n<h4 id=\"the-rise-of-functional-programming-in-front-end-development\" style=\"position:relative;\"><a href=\"#the-rise-of-functional-programming-in-front-end-development\" aria-label=\"the rise of functional programming in front end development permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The “rise” of Functional Programming in front end development</h4>\n<p>FP is not a new programming paradigm — it’s been around for a while since the introduction of LISP in the late 50s. However, it’s only in recent times that we’ve seen FP languages become more mainstream, most notably with <a href=\"http://elixir-lang.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Elixir</a>, which combines the elegance and productivity of Ruby with the performance of the Erlang VM.</p>\n<blockquote>\n<p>The combination of Ember’s conventions (over configuration), Glimmer, and DDAU means that just like Elixir, Ember developers too can find the sweet spot of having both productivity and performance.</p>\n</blockquote>\n<p>Why is <a href=\"https://www.youtube.com/watch?v=aeh5Fmh_tmw\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FP useful</a> for building front end applications? <a href=\"https://facebook.github.io/react/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">React</a> taught us that it is surprisingly cheap to diff the changes on the DOM, and to perform a series of updates to sync the DOM with its virtual representation. In other words, React made its <code class=\"language-text\">render</code> function a pure one (one of the core principles of FP) — you always get the same output (HTML) for a given input (state).</p>\n<p>With the <a href=\"https://facebook.github.io/flux/docs/overview.html#content\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Flux pattern</a>, that is taken a step further and the entire application is treated as a pure function — for a given serialized state, we can predictably render the same output each time. This has allowed Flux implementations like <a href=\"http://redux.js.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Redux</a> the ability to have a <a href=\"https://www.youtube.com/watch?v=xsSnOQynTHs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">“time traveling debugger”</a>, which is only possible when you model your architecture with a FP paradigm.</p>\n<h4 id=\"objectobserve-is-not-the-answer\" style=\"position:relative;\"><a href=\"#objectobserve-is-not-the-answer\" aria-label=\"objectobserve is not the answer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Object.observe is not the answer</h4>\n<p>These philosophies have had resounding success, so much so that <code class=\"language-text\">Object.observe</code> was <a href=\"https://mail.mozilla.org/pipermail/es-discuss/2015-November/044684.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">withdrawn</a> from TC39. All this means is that <em>observing property changes</em> are no longer the best way of building web applications, and Ember in general is moving in that direction with it’s “Data Down, Actions Up” (DDAU) philosophy.</p>\n<p>In 1.13.x, <a href=\"https://www.youtube.com/watch?v=o12-90Dm-Qs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Glimmer</a> landed — it is Ember’s new rendering engine based on the same pure render semantics, and gives us fast, idempotent re-renders. The combination of Ember’s conventions (over configuration), Glimmer, and DDAU means that just like Elixir, Ember developers too can find the sweet spot of having both productivity and performance.</p>\n<h4 id=\"data-down-actions-up\" style=\"position:relative;\"><a href=\"#data-down-actions-up\" aria-label=\"data down actions up permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data Down, Actions Up</h4>\n<p>Although you could bring in immutable data structures into your application (a topic for a future post!), that alone wouldn’t be enough. We should also strive to make our business logic as pure (free of side effects) as possible. Of course, it wouldn’t be possible to make <em>everything</em> pure, as web applications inherently involve mutation (i.e. updating a user record), but it is beneficial to explicitly know and isolate the functions in your app that do have side effects.</p>\n<p>In Ember 2.x, the best way forward is “Data Down, Actions Up”. This means:</p>\n<ol>\n<li>One way bindings by default</li>\n<li>Explicit closure actions over side effects</li>\n<li>Components should not mutate data directly</li>\n</ol>\n<p>My colleagues have already written about <a href=\"https://dockyard.com/blog/2015/10/05/ember-best-practices-using-native-input-elements\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">one way bindings</a>, <a href=\"https://dockyard.com/blog/2015/10/29/ember-best-practice-stop-bubbling-and-use-closure-actions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">closure actions</a> and <a href=\"https://dockyard.com/blog/2015/10/14/best-practices-data-down-actions-up\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">not mutating data in Components</a>, so I will leave you to do further reading in your own time.</p>\n<p>Instead, let’s continue the discussion above on how best to refactor away observers in your application, so that we can eliminate or reduce side effects.</p>\n<h4 id=\"refactoring-away-observers\" style=\"position:relative;\"><a href=\"#refactoring-away-observers\" aria-label=\"refactoring away observers permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Refactoring away observers</h4>\n<p>Let’s say we have an observer in our application that needs to check a user’s birthday (<a href=\"http://emberjs.jsbin.com/citiwi/edit?js,output\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">demo</a>):</p>\n<div class=\"gatsby-code-title\">birth-day/component.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Ember <span class=\"token keyword\">from</span> <span class=\"token string\">'ember'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n  Component<span class=\"token punctuation\">,</span>\n  computed<span class=\"token punctuation\">,</span>\n  get<span class=\"token punctuation\">,</span>\n  set\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Ember<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Component<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  isBirthday<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  birthDate<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n\n  age<span class=\"token operator\">:</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token string\">'birthDate'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">diff</span><span class=\"token punctuation\">(</span><span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'birthDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'years'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">checkBirthday</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> today <span class=\"token operator\">=</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> birthDate <span class=\"token operator\">=</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'birthDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> isBirthday <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">.</span><span class=\"token function\">month</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> birthDate<span class=\"token punctuation\">.</span><span class=\"token function\">month</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n      <span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">.</span><span class=\"token function\">day</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> birthDate<span class=\"token punctuation\">.</span><span class=\"token function\">day</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'isBirthday'</span><span class=\"token punctuation\">,</span> isBirthday<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_super</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">addObserver</span><span class=\"token punctuation\">(</span><span class=\"token string\">'birthDate'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>checkBirthday<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">willDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">removeObserver</span><span class=\"token punctuation\">(</span><span class=\"token string\">'birthDate'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>checkBirthday<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>In the above example, we’re using an observer to set the <code class=\"language-text\">isBirthday</code> flag if it is the user’s birthday.</p>\n<div class=\"gatsby-code-title\">birth-day/template.hbs</div>\n<div class=\"gatsby-highlight\" data-language=\"handlebars\"><pre class=\"language-handlebars\"><code class=\"language-handlebars\"><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">input</span> <span class=\"token variable\">value</span><span class=\"token punctuation\">=</span><span class=\"token variable\">birthDate</span> <span class=\"token variable\">placeholder</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"Your birthday\"</span><span class=\"token delimiter punctuation\">}}</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n  You are currently <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">age</span><span class=\"token delimiter punctuation\">}}</span></span> years old.\n  <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token block keyword\">#if</span> <span class=\"token variable\">isBirthday</span><span class=\"token delimiter punctuation\">}}</span></span>\n    Happy birthday!\n  <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token block keyword\">/if</span><span class=\"token delimiter punctuation\">}}</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>When you find yourself setting some value (be in on the component, record or somewhere else), you can easily refactor away the observer.</p>\n<h4 id=\"removing-an-observer-that-sets-a-value-on-the-component\" style=\"position:relative;\"><a href=\"#removing-an-observer-that-sets-a-value-on-the-component\" aria-label=\"removing an observer that sets a value on the component permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Removing an observer that sets a value on the component</h4>\n<p>In this scenario, you can simply replace the observer with a CP.</p>\n<div class=\"gatsby-code-title\">birth-day/component.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Ember <span class=\"token keyword\">from</span> <span class=\"token string\">'ember'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n  Component<span class=\"token punctuation\">,</span>\n  computed<span class=\"token punctuation\">,</span>\n  get\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Ember<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Component<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  isBirthday<span class=\"token operator\">:</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token string\">'birthDate'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> today <span class=\"token operator\">=</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> birthDate <span class=\"token operator\">=</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'birthDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">.</span><span class=\"token function\">month</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> birthDate<span class=\"token punctuation\">.</span><span class=\"token function\">month</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n        <span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">.</span><span class=\"token function\">day</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> birthDate<span class=\"token punctuation\">.</span><span class=\"token function\">day</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4 id=\"using-component-lifecycle-hooks\" style=\"position:relative;\"><a href=\"#using-component-lifecycle-hooks\" aria-label=\"using component lifecycle hooks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using component lifecycle hooks</h4>\n<p>We could also move the <code class=\"language-text\">input</code> logic out of this component, and use the <a href=\"https://github.com/emberjs/ember.js/pull/11127\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">new component lifecycle hooks</a> to set the <code class=\"language-text\">isBirthday</code> flag on the component.</p>\n<div class=\"gatsby-code-title\">birth-day/component.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Ember <span class=\"token keyword\">from</span> <span class=\"token string\">'ember'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n  Component<span class=\"token punctuation\">,</span>\n  computed<span class=\"token punctuation\">,</span>\n  get\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Ember<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Component<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  birthDate<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  today<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  isBirthday<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">didReceiveAttrs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> isBirthday <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkBirthday</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'today'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'birthDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'isBirthday'</span><span class=\"token punctuation\">,</span> isBirthday<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">checkBirthday</span><span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">,</span> birthDate<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">.</span><span class=\"token function\">month</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> birthDate<span class=\"token punctuation\">.</span><span class=\"token function\">month</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n      <span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">.</span><span class=\"token function\">day</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> birthDate<span class=\"token punctuation\">.</span><span class=\"token function\">day</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-code-title\">index/template.hbs</div>\n<div class=\"gatsby-highlight\" data-language=\"handlebars\"><pre class=\"language-handlebars\"><code class=\"language-handlebars\"><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">one-way-input</span>\n    <span class=\"token variable\">value</span><span class=\"token punctuation\">=</span><span class=\"token variable\">user</span><span class=\"token punctuation\">.</span><span class=\"token variable\">birthDate</span>\n    <span class=\"token variable\">update</span><span class=\"token punctuation\">=</span><span class=\"token punctuation\">(</span><span class=\"token variable\">action</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">mut</span> <span class=\"token variable\">user</span><span class=\"token punctuation\">.</span><span class=\"token variable\">birthDate</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">placeholder</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"Your birthday\"</span>\n<span class=\"token delimiter punctuation\">}}</span></span>\n<span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">happy-birthday</span> <span class=\"token variable\">today</span><span class=\"token punctuation\">=</span><span class=\"token variable\">today</span> <span class=\"token variable\">birthDate</span><span class=\"token punctuation\">=</span><span class=\"token variable\">user</span><span class=\"token punctuation\">.</span><span class=\"token variable\">birthDate</span><span class=\"token delimiter punctuation\">}}</span></span></code></pre></div>\n<div class=\"gatsby-code-title\">birth-day/template.hbs</div>\n<div class=\"gatsby-highlight\" data-language=\"handlebars\"><pre class=\"language-handlebars\"><code class=\"language-handlebars\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n  You are currently <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">age</span><span class=\"token delimiter punctuation\">}}</span></span> years old.\n  <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token block keyword\">#if</span> <span class=\"token variable\">isBirthday</span><span class=\"token delimiter punctuation\">}}</span></span>\n    Happy birthday!\n  <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token block keyword\">/if</span><span class=\"token delimiter punctuation\">}}</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Both approaches let you remove the observer, but the <code class=\"language-text\">didReceiveAttrs</code> example is slightly more explicit, and transforms the component into a pure one. By limiting the scope of the component, we can easily isolate the origins of data mutations.</p>\n<h4 id=\"removing-an-observer-that-sets-a-value-outside-the-component\" style=\"position:relative;\"><a href=\"#removing-an-observer-that-sets-a-value-outside-the-component\" aria-label=\"removing an observer that sets a value outside the component permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Removing an observer that sets a value outside the component</h4>\n<p>In this situation, let’s say we want to update the user record’s <code class=\"language-text\">isBirthday</code> flag instead. We can remove the observer by using one way input actions:</p>\n<p>By bringing in the <a href=\"https://github.com/dockyard/ember-one-way-input\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ember-one-way-input</a> addon, we can eliminate the coupling of the component to the user record:</p>\n<div class=\"gatsby-code-title\">birth-day/component.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Ember <span class=\"token keyword\">from</span> <span class=\"token string\">'ember'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n  Component<span class=\"token punctuation\">,</span>\n  computed<span class=\"token punctuation\">,</span>\n  get\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Ember<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Component<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  actions<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">checkBirthday</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">birthDate</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      birthDate <span class=\"token operator\">=</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span>birthDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> today <span class=\"token operator\">=</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> isBirthday <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">.</span><span class=\"token function\">month</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> birthDate<span class=\"token punctuation\">.</span><span class=\"token function\">month</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n        <span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">.</span><span class=\"token function\">day</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> birthDate<span class=\"token punctuation\">.</span><span class=\"token function\">day</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>attrs<span class=\"token punctuation\">.</span><span class=\"token function\">setIsBirthday</span><span class=\"token punctuation\">(</span>isBirthday<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>attrs<span class=\"token punctuation\">.</span><span class=\"token function\">setBirthDate</span><span class=\"token punctuation\">(</span>birthDate<span class=\"token punctuation\">.</span><span class=\"token function\">toDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-code-title\">birth-day/template.hbs</div>\n<div class=\"gatsby-highlight\" data-language=\"handlebars\"><pre class=\"language-handlebars\"><code class=\"language-handlebars\"><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">one-way-input</span>\n    <span class=\"token variable\">value</span><span class=\"token punctuation\">=</span><span class=\"token variable\">birthDate</span>\n    <span class=\"token variable\">update</span><span class=\"token punctuation\">=</span><span class=\"token punctuation\">(</span><span class=\"token variable\">action</span> <span class=\"token string\">\"checkBirthday\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">placeholder</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"Your birthday\"</span>\n<span class=\"token delimiter punctuation\">}}</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n  You are currently <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">age</span><span class=\"token delimiter punctuation\">}}</span></span> years old.\n  <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token block keyword\">#if</span> <span class=\"token variable\">isBirthday</span><span class=\"token delimiter punctuation\">}}</span></span>\n    Happy birthday!\n  <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token block keyword\">/if</span><span class=\"token delimiter punctuation\">}}</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>And then in the Controller:</p>\n<div class=\"gatsby-code-title\">index/controller.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Ember <span class=\"token keyword\">from</span> <span class=\"token string\">'ember'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> Controller<span class=\"token punctuation\">,</span> set <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Ember<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Controller<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  actions<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setIsBirthday</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">isBirthday</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'user.isBirthday'</span><span class=\"token punctuation\">,</span> isBirthday<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      user<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function\">setBirthDate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">birthDate</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'user.birthDate'</span><span class=\"token punctuation\">,</span> birthDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      user<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-code-title\">index/template.hbs</div>\n<div class=\"gatsby-highlight\" data-language=\"handlebars\"><pre class=\"language-handlebars\"><code class=\"language-handlebars\"><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">happy-birthday</span>\n    <span class=\"token variable\">setIsBirthday</span><span class=\"token punctuation\">=</span><span class=\"token punctuation\">(</span><span class=\"token variable\">action</span> <span class=\"token string\">\"setIsBirthday\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">setBirthdate</span><span class=\"token punctuation\">=</span><span class=\"token punctuation\">(</span><span class=\"token variable\">action</span> <span class=\"token string\">\"setBirthdate\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">isBirthday</span><span class=\"token punctuation\">=</span><span class=\"token variable\">user</span><span class=\"token punctuation\">.</span><span class=\"token variable\">isBirthday</span>\n    <span class=\"token variable\">birthDate</span><span class=\"token punctuation\">=</span><span class=\"token variable\">user</span><span class=\"token punctuation\">.</span><span class=\"token variable\">birthDate</span>\n<span class=\"token delimiter punctuation\">}}</span></span></code></pre></div>\n<p>In the above example, we moved the logic for setting the <code class=\"language-text\">isBirthday</code> flag out of the <code class=\"language-text\">happy-birthday</code> component into its Controller. The component no longer needs to directly mutate state (an anti-pattern would be to set <code class=\"language-text\">user.isBirthday</code> directly in the component), and can instead send a closure action up, leaving the Controller to decide how to handle the actions. Data now flows down to the Component, and any changes to the <code class=\"language-text\">input</code> sends actions back up.</p>\n<h4 id=\"who-should-use-observers\" style=\"position:relative;\"><a href=\"#who-should-use-observers\" aria-label=\"who should use observers permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Who should use observers?</h4>\n<p>If observers are so terrible, why are they in Ember? According to Stefan Penner, observers are used by the framework itself as a low level primitive, so that <em>you don’t need to use them yourself</em>. So unless you’re working on a PR for Ember.js, stay away from observers.</p>\n<h4 id=\"thanks-for-reading\" style=\"position:relative;\"><a href=\"#thanks-for-reading\" aria-label=\"thanks for reading permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Thanks for reading!</h4>\n<p>I hope you’ve enjoyed this post! It’s been a while since my last one so I do apologize. I hope to start writing shorter articles again more frequently — if you have suggestions for topics, please feel free to DM me on Slack or tweet me!</p>\n<p>Until next time,</p>\n<p>Lauren</p>","timeToRead":9,"fields":{"slug":"/2015-11-16-ember-js-functional-programming-and-the-observer-effect/"},"frontmatter":{"title":"Ember.js — Functional Programming and the Observer Effect","shortDate":"November 16, 2015","longDate":"November 16, 2015, 4:06:28 pm","description":"My awesome colleagues have written about patterns and best practices we use at DockYard, covering everything from the Ember Object model…","categories":["engineering"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABU2Ls1ghiz//EABkQAAMBAQEAAAAAAAAAAAAAAAABAhIRMf/aAAgBAQABBQJVBuTcCbPV1n//xAAWEQEBAQAAAAAAAAAAAAAAAAAAISL/2gAIAQMBAT8BrT//xAAYEQACAwAAAAAAAAAAAAAAAAAAAhEhUf/aAAgBAgEBPwGsIU//xAAWEAADAAAAAAAAAAAAAAAAAAAAIDH/2gAIAQEABj8CIv8A/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAERMSFB8PH/2gAIAQEAAT8h1FIvUdyQrYm8joc1n//aAAwDAQACAAMAAAAQPx//xAAXEQADAQAAAAAAAAAAAAAAAAAAETFR/9oACAEDAQE/EIo9H//EABcRAAMBAAAAAAAAAAAAAAAAAAABEWH/2gAIAQIBAT8QasZH/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARMSFR/9oACAEBAAE/EGCoAtpyPwUbcegEDYEOg7FSy4b7CItP/9k=","aspectRatio":1.6143497757847534,"src":"/static/a416372dcdf00db22e8eda17f702db80/7f945/adam-sodek-1403521-unsplash-optimized.jpg","srcSet":"/static/a416372dcdf00db22e8eda17f702db80/e2788/adam-sodek-1403521-unsplash-optimized.jpg 360w,\n/static/a416372dcdf00db22e8eda17f702db80/7d509/adam-sodek-1403521-unsplash-optimized.jpg 720w,\n/static/a416372dcdf00db22e8eda17f702db80/7f945/adam-sodek-1403521-unsplash-optimized.jpg 1440w,\n/static/a416372dcdf00db22e8eda17f702db80/47dad/adam-sodek-1403521-unsplash-optimized.jpg 2160w,\n/static/a416372dcdf00db22e8eda17f702db80/af56c/adam-sodek-1403521-unsplash-optimized.jpg 2880w,\n/static/a416372dcdf00db22e8eda17f702db80/733d7/adam-sodek-1403521-unsplash-optimized.jpg 3620w","sizes":"(max-width: 1440px) 100vw, 1440px"}}},"coverAuthor":"Adam Šodek","coverOriginalUrl":"https://unsplash.com/photos/WF3shbZCOi4?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText","keywords":["functional programming","emberjs","observers","data down actions up","one way data flow"],"published":true}}},"pageContext":{"slug":"/2015-11-16-ember-js-functional-programming-and-the-observer-effect/","previous":{"fields":{"slug":"/2015-08-07-applying-the-adapter-pattern-for-analytics-in-ember-js-apps/"},"frontmatter":{"title":"Applying the Adapter Pattern for Analytics in Ember.js Apps"}},"next":{"fields":{"slug":"/2015-12-03-ember-js-goodbye-mvc/"},"frontmatter":{"title":"Ember.js — Goodbye MVC"}}}},"staticQueryHashes":["3009088689","63159454"]}