{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2015-12-03-ember-js-goodbye-mvc/","result":{"data":{"site":{"siteMetadata":{"title":"no.lol","author":"Azmarie Wang"}},"markdownRemark":{"id":"f1471c16-a6c2-5263-ae6a-a2d3722d22ad","excerpt":"At EmberConf 2015, Yehuda Katz and Tom Dale announced the arrival of certain changes to Ember 2. Most notably, the routable components RFC attracted a lot of…","html":"<p>At EmberConf 2015, <a href=\"https://twitter.com/wycats\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Yehuda Katz</a> and <a href=\"https://twitter.com/tomdale\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Tom Dale</a> announced the arrival of certain changes to Ember 2. Most notably, the <a href=\"https://github.com/emberjs/rfcs/pull/38\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">routable components RFC</a> attracted a lot of attention because of its proposal to deprecate and eventually remove controllers. Naturally, this was alarming to many existing Ember users, especially since Ember and Sproutcore have always been client-side MVC frameworks.</p>\n<h4 id=\"goodbye-mvc\" style=\"position:relative;\"><a href=\"#goodbye-mvc\" aria-label=\"goodbye mvc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Goodbye MVC</h4>\n<p>It is no secret that many new Ember 2 conventions and changes have direct influence from <a href=\"https://facebook.github.io/react/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">React</a> and <a href=\"https://facebook.github.io/flux/docs/overview.html#content\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Flux</a> (a pattern for data flow in React apps). What Flux calls the “unidirectional data flow” is what we call “Data down, actions up” (DDAU) in Ember.</p>\n<p>DDAU avoids the traditional client-side MVC pattern in favor of a single flow of data (hence unidirectional), which makes apps easier to reason about, and improves their performance. The fundamental problem with MVC is revealed as your application grows larger and more complex — cascading updates and implicit dependencies lead to a tangled mess and unpredictability. Updating one object leads to another changing, which in turn triggers more changes, and ultimately makes maintaining your application a frustrating experience.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1000/1*MjgBefc-yauK1zWrtCX1Bg.png\"></p>\n<p><small>This work is licensed under a <a href=\"http://creativecommons.org/licenses/by/4.0/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Creative Commons Attribution 4.0 International License</a>.</small></p>\n<p>In the DDAU pattern, data flows one-way and there are no two-way bindings. Different parts of your application can remain highly decoupled and predictable, which means you will always know the source of an object’s change. If you’ve read my post on <a href=\"https://medium.com/the-ember-way/ember-js-functional-programming-and-the-observer-effect-48901c3b84d7#.1205bzvwx\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">functional programming and the observer effect</a>, you’ll understand why it’s important to keep your components free from side effects.</p>\n<p>Instead of spending time cobbling together your own makeshift framework with a dozen <a href=\"https://www.reddit.com/r/javascript/comments/3v43qf/im_a_web_developer_who_uses_jquery_to_write_a/cxkl9d1\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">micro-libraries</a> and bike-shedding on the best way to implement a feature, using Ember means instant productivity and quick developer on-boarding. Combined with the DDAU pattern and the Glimmer rendering engine, Ember developers have both productivity and performance out of the box.</p>\n<h4 id=\"preparing-your-application-for-ddau\" style=\"position:relative;\"><a href=\"#preparing-your-application-for-ddau\" aria-label=\"preparing your application for ddau permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Preparing your application for DDAU</h4>\n<p>When routable components land, controllers will be deprecated and removed. Controllers and views have always been confusing for new Ember users, and “80% of their use cases were to do something that was fundamentally a component” (watch Yehuda and Tom explain more in this <a href=\"https://www.youtube.com/watch?v=QgycDZjOnIg\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">video</a>).</p>\n<p>Since Ember components aren’t singletons, they will be torn down and re-rendered in an optimized fashion when Glimmer deems necessary. How then to handle state persistence when controllers go away?</p>\n<p>For example, you might have some property on your controller that holds on to state that you would like to preserve throughout the app. To do so in Ember 2 (and today), we can remove that controller property in favor of “service-backed components”. The service will hold on to singleton component state, and explicitly injected only where necessary. Because services are powerful and can be easily abused, I’ll talk more about it at the end of this post.</p>\n<h4 id=\"implementing-service-backed-components\" style=\"position:relative;\"><a href=\"#implementing-service-backed-components\" aria-label=\"implementing service backed components permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implementing service-backed components</h4>\n<p>In the following example, I’ll demonstrate how you can use services and one-way bindings today. You can follow along below as well as check out the <a href=\"https://poteto.github.io/component-best-practices/#/service-backed\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">demo</a>.</p>\n<p>Our little application consists of a couple of checkboxes for selecting animals. This selection needs to persist across different routes, and restore state when returning back to the route. All we need is to define a simple service that holds state for the selected items, and then inject it into the routable component.</p>\n<p>In the route’s template, we can just render the injected service’s state using the <code class=\"language-text\">each</code> helper.</p>\n<div class=\"gatsby-code-title\">animals/index.hbs</div>\n<div class=\"gatsby-highlight\" data-language=\"handlebars\"><pre class=\"language-handlebars\"><code class=\"language-handlebars\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>row<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>col-md-3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>Select Animals<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">checkbox-group</span>\n        <span class=\"token variable\">group</span><span class=\"token punctuation\">=</span><span class=\"token variable\">animals</span>\n        <span class=\"token variable\">selectedItems</span><span class=\"token punctuation\">=</span><span class=\"token variable\">checkboxGroup</span><span class=\"token punctuation\">.</span><span class=\"token variable\">selectedItems</span>\n        <span class=\"token variable\">check</span><span class=\"token punctuation\">=</span><span class=\"token punctuation\">(</span><span class=\"token variable\">action</span> <span class=\"token string\">\"check\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token delimiter punctuation\">}}</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>col-md-9<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h3</span><span class=\"token punctuation\">></span></span>Selected Animals<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h3</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>table table-bordered<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>thead</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>ID<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>Species<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>Name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>thead</span><span class=\"token punctuation\">></span></span>\n\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tbody</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token block keyword\">#each</span> <span class=\"token variable\">checkboxGroup</span><span class=\"token punctuation\">.</span><span class=\"token variable\">selectedItems</span> <span class=\"token variable\">as</span> <span class=\"token punctuation\">|</span><span class=\"token variable\">animal</span><span class=\"token punctuation\">|</span><span class=\"token delimiter punctuation\">}}</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">animal</span><span class=\"token punctuation\">.</span><span class=\"token variable\">id</span><span class=\"token delimiter punctuation\">}}</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">animal</span><span class=\"token punctuation\">.</span><span class=\"token variable\">species</span><span class=\"token delimiter punctuation\">}}</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">animal</span><span class=\"token punctuation\">.</span><span class=\"token variable\">name</span><span class=\"token delimiter punctuation\">}}</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token block keyword\">/each</span><span class=\"token delimiter punctuation\">}}</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tbody</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>In our controller or routable component, we inject the service and define the action for handling the checked animal. The service’s bag of state is then passed into the component, keeping it as pure as possible. Although you could have just injected the service into the component, doing it this way makes things more explicit and allows the component to be decoupled from the service.</p>\n<div class=\"gatsby-code-title\">animals/controller.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Ember <span class=\"token keyword\">from</span> <span class=\"token string\">'ember'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> inject<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> service <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> Controller <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Ember<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">OPERATION_MAP</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token boolean\">true</span><span class=\"token operator\">:</span> <span class=\"token string\">'addObject'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token boolean\">false</span><span class=\"token operator\">:</span> <span class=\"token string\">'removeObject'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Controller<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  checkboxGroup<span class=\"token operator\">:</span> <span class=\"token function\">service</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">// In the future, actions will be defined in the route and passed into the</span>\n  <span class=\"token comment\">// routable component as `attributes`.</span>\n  actions<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">check</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">group<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">,</span> isChecked</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> group<span class=\"token punctuation\">[</span><span class=\"token constant\">OPERATION_MAP</span><span class=\"token punctuation\">[</span>isChecked<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>As mentioned, the service itself is simple. We can define more complex behavior later, but the underlying persistence for its state is just a JavaScript array.</p>\n<div class=\"gatsby-code-title\">checkbox-group/service.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Ember <span class=\"token keyword\">from</span> <span class=\"token string\">'ember'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> Service <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Ember<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Service<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_super</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedItems <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Because our behavior is simple, we don’t need to define a sub-classed component in this example. The <code class=\"language-text\">check</code> action is passed in from the routable component / controller, so using closure actions in the component’s template means that we don’t have to cast <code class=\"language-text\">sendActions</code> into the void.</p>\n<p>In our component’s template, we make use of small, composable helpers. These helpers are just simple JavaScript functions under the hood, and because they have return values, we can use them as Handlebars sub-expressions where we might have once defined a computed property.</p>\n<p>The <code class=\"language-text\">contains</code> helper doesn’t ship with Ember, but the function itself is <a href=\"https://github.com/poteto/component-best-practices/blob/master/app%2Fhelpers%2Fcontains.js?ts=2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">one line of code</a>. There are a bunch of useful addons that add helpers such as these to your application — for example, <a href=\"https://www.npmjs.com/package/ember-truth-helpers\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ember-truth-helpers</a> is an addon I find myself using in almost all my apps.</p>\n<div class=\"gatsby-code-title\">checkbox-group/template.hbs</div>\n<div class=\"gatsby-highlight\" data-language=\"handlebars\"><pre class=\"language-handlebars\"><code class=\"language-handlebars\"><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token block keyword\">#each</span> <span class=\"token variable\">group</span> <span class=\"token variable\">as</span> <span class=\"token punctuation\">|</span><span class=\"token variable\">item</span><span class=\"token punctuation\">|</span><span class=\"token delimiter punctuation\">}}</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">concat</span> <span class=\"token string\">\"item-\"</span> <span class=\"token variable\">item</span><span class=\"token punctuation\">.</span><span class=\"token variable\">id</span><span class=\"token delimiter punctuation\">}}</span></span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">one-way-input</span>\n          <span class=\"token variable\">id</span><span class=\"token punctuation\">=</span><span class=\"token punctuation\">(</span><span class=\"token variable\">concat</span> <span class=\"token string\">\"item-\"</span> <span class=\"token variable\">item</span><span class=\"token punctuation\">.</span><span class=\"token variable\">id</span><span class=\"token punctuation\">)</span>\n          <span class=\"token variable\">class</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"checkbox\"</span>\n          <span class=\"token variable\">type</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"checkbox\"</span>\n          <span class=\"token variable\">checked</span><span class=\"token punctuation\">=</span><span class=\"token punctuation\">(</span><span class=\"token variable\">contains</span> <span class=\"token variable\">selectedItems</span> <span class=\"token variable\">item</span><span class=\"token punctuation\">)</span>\n          <span class=\"token variable\">update</span><span class=\"token punctuation\">=</span><span class=\"token punctuation\">(</span><span class=\"token variable\">action</span> <span class=\"token variable\">this</span><span class=\"token punctuation\">.</span><span class=\"token variable\">attrs</span><span class=\"token punctuation\">.</span><span class=\"token variable\">check</span> <span class=\"token variable\">selectedItems</span> <span class=\"token variable\">item</span><span class=\"token punctuation\">)</span>\n      <span class=\"token delimiter punctuation\">}}</span></span> <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">item</span><span class=\"token punctuation\">.</span><span class=\"token variable\">name</span><span class=\"token delimiter punctuation\">}}</span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>label label-default<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">item</span><span class=\"token punctuation\">.</span><span class=\"token variable\">species</span><span class=\"token delimiter punctuation\">}}</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token block keyword\">/each</span><span class=\"token delimiter punctuation\">}}</span></span></code></pre></div>\n<p>As mentioned in my <a href=\"https://medium.com/the-ember-way/ember-js-functional-programming-and-the-observer-effect-48901c3b84d7#.1205bzvwx\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">previous post</a>, the <a href=\"https://github.com/dockyard/ember-one-way-input\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ember-one-way-input</a> addon is an easy way to start using one-way bindings today.</p>\n<p>I hope this simple example illustrates how you can build maintainable and performant apps with some of my favorite features of Ember — helpers, closure actions, components, and one-way bindings.</p>\n<h4 id=\"a-word-of-caution-about-services\" style=\"position:relative;\"><a href=\"#a-word-of-caution-about-services\" aria-label=\"a word of caution about services permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A word of caution about Services</h4>\n<p>As the cliché goes, “with great power…”. Because services in Ember are singletons, it becomes tempting to make multiple services and inject them everywhere.</p>\n<p>If your main reason for creating a service is to use it as a global, that is generally a code smell because dependencies become implicit (we learned earlier that this is a bad thing) and parts of your application become tightly coupled. Instead, expose data and actions via interfaces to keep your code decoupled and explicit. Remember the Principle of Least Power, and only use a service when strictly necessary!</p>\n<h4 id=\"so-when-should-i-use-a-service\" style=\"position:relative;\"><a href=\"#so-when-should-i-use-a-service\" aria-label=\"so when should i use a service permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>So when should I use a Service?</h4>\n<p>I like this <a href=\"http://stackoverflow.com/a/142450/4259952\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Stack Overflow answer</a> on when you should use a singleton. Essentially, you should only use one when you can only have a single instance throughout your application. For example, a shopping cart, <a href=\"https://github.com/poteto/ember-cli-flash\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">flash messages</a>, or activity feed could be great candidates for a service.</p>\n<p>Thanks for reading! In my next post in this series, we’ll explore other advanced techniques for the DDAU pattern.</p>\n<p>Until next time,</p>\n<p>Lauren</p>","timeToRead":7,"fields":{"slug":"/2015-12-03-ember-js-goodbye-mvc/"},"frontmatter":{"title":"Ember.js — Goodbye MVC","shortDate":"December 03, 2015","longDate":"December 03, 2015, 4:49:32 pm","description":"At EmberConf 2015, Yehuda Katz and Tom Dale announced the arrival of certain changes to Ember 2. Most notably, the routable components RFC…","categories":["engineering"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwQA/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwAB/9oADAMBAAIQAxAAAAGA56VIset//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAIBEhMEEf/aAAgBAQABBQKymkGhE+N0LVz/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQISE//aAAgBAwEBPwHNFYn/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQISE//aAAgBAgEBPwHRlpn/xAAXEAEAAwAAAAAAAAAAAAAAAAAQITFB/9oACAEBAAY/AiiNP//EABsQAAICAwEAAAAAAAAAAAAAAAABESFBYYFR/9oACAEBAAE/Idj4h4U2O9GAhcE4qSY8I2f/2gAMAwEAAgADAAAAEDwv/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERYf/aAAgBAwEBPxBQpgf/xAAXEQADAQAAAAAAAAAAAAAAAAAAARFh/9oACAECAQE/EHeGh//EABsQAQEBAAMBAQAAAAAAAAAAAAERACFBYTFR/9oACAEBAAE/EE/rH7TDwM0E9dYhLXo+OHPBzJL6MteVv//Z","aspectRatio":1.5,"src":"/static/4246806a8f2912147ba5446eca315c7d/7f945/sepp-rutz-1402081-unsplash-optimized.jpg","srcSet":"/static/4246806a8f2912147ba5446eca315c7d/e2788/sepp-rutz-1402081-unsplash-optimized.jpg 360w,\n/static/4246806a8f2912147ba5446eca315c7d/7d509/sepp-rutz-1402081-unsplash-optimized.jpg 720w,\n/static/4246806a8f2912147ba5446eca315c7d/7f945/sepp-rutz-1402081-unsplash-optimized.jpg 1440w,\n/static/4246806a8f2912147ba5446eca315c7d/47dad/sepp-rutz-1402081-unsplash-optimized.jpg 2160w,\n/static/4246806a8f2912147ba5446eca315c7d/af56c/sepp-rutz-1402081-unsplash-optimized.jpg 2880w,\n/static/4246806a8f2912147ba5446eca315c7d/cf7c5/sepp-rutz-1402081-unsplash-optimized.jpg 4096w","sizes":"(max-width: 1440px) 100vw, 1440px"}}},"coverAuthor":"Sepp Rutz","coverOriginalUrl":"https://unsplash.com/photos/ToKAuHu_hbU?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText","keywords":["emberjs","mvc","routable components","data down actions up","one way data flow"],"published":true}}},"pageContext":{"slug":"/2015-12-03-ember-js-goodbye-mvc/","previous":{"fields":{"slug":"/2015-11-16-ember-js-functional-programming-and-the-observer-effect/"},"frontmatter":{"title":"Ember.js — Functional Programming and the Observer Effect"}},"next":{"fields":{"slug":"/2016-01-13-warning-breaking-changes/"},"frontmatter":{"title":"Warning — Breaking Changes"}}}},"staticQueryHashes":["3009088689","63159454"]}