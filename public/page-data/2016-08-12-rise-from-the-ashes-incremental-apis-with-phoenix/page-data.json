{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2016-08-12-rise-from-the-ashes-incremental-apis-with-phoenix/","result":{"data":{"site":{"siteMetadata":{"title":"no.lol","author":"Azmarie Wang"}},"markdownRemark":{"id":"4cefc2cc-48ef-5139-90d7-3eaa5d6ba4b7","excerpt":"Much has been said about the Elixir language and the Phoenix framework —Phoenix’s performance without compromise makes it a compelling choice in a world where…","html":"<p>Much has been said about the <a href=\"http://elixir-lang.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Elixir</a> language and the <a href=\"http://www.phoenixframework.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Phoenix framework</a> —Phoenix’s <a href=\"http://www.phoenixframework.org/blog/the-road-to-2-million-websocket-connections\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">performance</a> <a href=\"https://dockyard.com/blog/2015/11/18/phoenix-is-not-rails\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">without compromise</a> makes it a compelling choice in a world where problems are increasingly concurrent and <a href=\"https://dockyard.com/blog/2016/08/09/phoenix-channels-vs-rails-action-cable\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">real-time</a>.</p>\n<p>Despite Phoenix’s attractiveness, chances are you have business requirements that disallow you from dropping work on existing APIs that still need to be supported. And so you might consider Phoenix no longer viable, and dismiss it to your ever-growing list of shiny toys to check out — <em>someday.</em></p>\n<p>What if we could incrementally replace our legacy API with Phoenix, one endpoint at a time? We could make a compelling argument by showcasing performance and maintainability gains, without committing to a rewrite.</p>\n<p>In science fiction (and perhaps someday reality), transforming an uninhabitable planet into an inhabitable one is known as <em>“</em><a href=\"https://en.wikipedia.org/wiki/Terraforming\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><em>terraforming</em></a><em>”</em>, or literally “Earth-shaping”. It’s an apt metaphor for a little <a href=\"https://github.com/elixir-lang/plug\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">plug</a> I co-authored with <a href=\"https://twitter.com/_danmcclain\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Dan McClain</a>. It’s available on <a href=\"https://github.com/poteto/terraform\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitHub</a>.</p>\n<p>Using Terraform, you can create a Phoenix app that handles one or more endpoints, and forward un-handled requests to your legacy API. If some network latency is not a significant issue, you might find this plug useful.</p>\n<h4 id=\"discovery\" style=\"position:relative;\"><a href=\"#discovery\" aria-label=\"discovery permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Discovery</h4>\n<p>The basic idea is this — if a route is defined on our Phoenix app, we’ll handle the request. If it’s not, we forward the request on, and send its response back to the user.</p>\n<p>In your Phoenix app, every incoming connection goes through a pipeline that you can readily examine at <code class=\"language-text\">lib/my_app/endpoint.ex</code>. You can see how a connection flows through the different plugs specified in this file. The connection is then piped into the router:</p>\n<div class=\"gatsby-code-title\">web/router.ex</div>\n<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token comment\"># Add Terraform to your router</span>\n<span class=\"token keyword\">defmodule</span> MyApp<span class=\"token punctuation\">.</span>Router <span class=\"token keyword\">do</span>\n  <span class=\"token keyword\">use</span> Terraform<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">terraformer:</span> MyApp<span class=\"token punctuation\">.</span>Terraformers<span class=\"token punctuation\">.</span>LegacyApi\n\n  <span class=\"token comment\"># ...</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h4 id=\"terraforming-the-legacy-api\" style=\"position:relative;\"><a href=\"#terraforming-the-legacy-api\" aria-label=\"terraforming the legacy api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Terraforming the legacy API</h4>\n<p>By adding the Terraform plug to your router, it will then re-route those missing route connections to a plug that you define. And because this plug uses <a href=\"https://hexdocs.pm/plug/Plug.Router.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">Plug.Router</code></a>, you have an elegant DSL in which you can handle them:</p>\n<div class=\"gatsby-code-title\">terraformers/foo.ex</div>\n<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token comment\"># Write a Terraformer to forward requests</span>\n<span class=\"token keyword\">defmodule</span> MyApp<span class=\"token punctuation\">.</span>Terraformers<span class=\"token punctuation\">.</span>Foo <span class=\"token keyword\">do</span>\n  <span class=\"token keyword\">use</span> Plug<span class=\"token punctuation\">.</span>Router\n\n  plug <span class=\"token atom symbol\">:match</span>\n  plug <span class=\"token atom symbol\">:dispatch</span>\n\n  get <span class=\"token string\">\"/v1/hello-world\"</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> send_resp<span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Hello world\"</span><span class=\"token punctuation\">)</span>\n  get _<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> send_resp<span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Handle all GETs\"</span><span class=\"token punctuation\">)</span>\n\n  options _<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> send_resp<span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Handle all OPTIONs\"</span><span class=\"token punctuation\">)</span>\n  delete  _<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> send_resp<span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Handle all DELETEs\"</span><span class=\"token punctuation\">)</span>\n  patch   _<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> send_resp<span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Handle all PATCHs\"</span><span class=\"token punctuation\">)</span>\n  post    _<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> send_resp<span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Handle all POSTs\"</span><span class=\"token punctuation\">)</span>\n  put     _<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> send_resp<span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Handle all PUTs\"</span><span class=\"token punctuation\">)</span>\n\n  match <span class=\"token string\">\"/weird/api\"</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">via:</span> <span class=\"token atom symbol\">:eat</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> send_resp<span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"eat it\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>Basic example aside, we’d probably want to do an actual request on your API, and you can do so by writing a client for it. There are <a href=\"https://github.com/h4cc/awesome-elixir#third-party-apis\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">many ways</a> to do it, and I’ve had success in doing so with <a href=\"https://github.com/edgurgel/httpoison\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">HTTPoison</a> and its <a href=\"https://hexdocs.pm/httpoison/HTTPoison.Base.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Base</a> module. For example:</p>\n<div class=\"gatsby-code-title\">terraformers/legacy_api.ex</div>\n<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token comment\"># Use a client for your legacy API</span>\n<span class=\"token keyword\">defmodule</span> MyApp<span class=\"token punctuation\">.</span>Terraformers<span class=\"token punctuation\">.</span>LegacyApi <span class=\"token keyword\">do</span>\n  <span class=\"token keyword\">alias</span> MyApp<span class=\"token punctuation\">.</span>Clients<span class=\"token punctuation\">.</span>LegacyApi\n  <span class=\"token keyword\">use</span> Plug<span class=\"token punctuation\">.</span>Router\n\n  plug <span class=\"token atom symbol\">:match</span>\n  plug <span class=\"token atom symbol\">:dispatch</span>\n\n  get _ <span class=\"token keyword\">do</span>\n    <span class=\"token punctuation\">%</span><span class=\"token punctuation\">{</span><span class=\"token attr-name\">method:</span> <span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">request_path:</span> request_path<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">params:</span> params<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">req_headers:</span> req_headers<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> conn\n    res <span class=\"token operator\">=</span> LegacyApi<span class=\"token punctuation\">.</span>get!<span class=\"token punctuation\">(</span>request_path<span class=\"token punctuation\">,</span> req_headers<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token attr-name\">params:</span> Map<span class=\"token punctuation\">.</span>to_list<span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    send_response<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:ok</span><span class=\"token punctuation\">,</span> conn<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">def</span> send_response<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:ok</span><span class=\"token punctuation\">,</span> conn<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">%</span><span class=\"token punctuation\">{</span><span class=\"token attr-name\">headers:</span> headers<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">status_code:</span> status_code<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">body:</span> body<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n    conn <span class=\"token operator\">=</span> <span class=\"token punctuation\">%</span><span class=\"token punctuation\">{</span>conn <span class=\"token operator\">|</span> <span class=\"token attr-name\">resp_headers:</span> headers<span class=\"token punctuation\">}</span>\n    send_resp<span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> status_code<span class=\"token punctuation\">,</span> body<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>And here is what a client might look like:</p>\n<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token comment\"># Example taken from https://github.com/edgurgel/httpoison</span>\n<span class=\"token comment\"># GitHub client example written with HTTPoison</span>\n<span class=\"token keyword\">defmodule</span> GitHub <span class=\"token keyword\">do</span>\n  <span class=\"token keyword\">use</span> HTTPoison<span class=\"token punctuation\">.</span>Base\n\n  <span class=\"token attribute variable\">@expected_fields</span> ~w<span class=\"token punctuation\">(</span>\n    login id avatar_url gravatar_id url html_url followers_url\n    following_url gists_url starred_url subscriptions_url\n    organizations_url repos_url events_url received_events_url type\n    site_admin name company blog location email hireable bio\n    public_repos public_gists followers following created_at updated_at\n  <span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">def</span> process_url<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n    <span class=\"token string\">\"https://api.github.com\"</span> <span class=\"token operator\">&lt;></span> url\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">def</span> process_response_body<span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n    body\n    <span class=\"token operator\">|></span> Poison<span class=\"token punctuation\">.</span>decode!\n    <span class=\"token operator\">|></span> Map<span class=\"token punctuation\">.</span>take<span class=\"token punctuation\">(</span><span class=\"token attribute variable\">@expected_fields</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">|></span> Enum<span class=\"token punctuation\">.</span>map<span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>String<span class=\"token punctuation\">.</span>to_atom<span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">}</span> <span class=\"token keyword\">end</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>This forwards all un-handled GETs to our legacy API via our client, and sends the response back with the right headers as well. Since this is just a plug, you have access to the connection, so you can easily handle things like sessions and auth as well.</p>\n<h4 id=\"what-about-performance\" style=\"position:relative;\"><a href=\"#what-about-performance\" aria-label=\"what about performance permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What about performance?</h4>\n<p>I ran some unscientific benchmarks on my 2014 13” MBP, and the results between the route backed by a Phoenix controller and our Terraform handler were insignificant.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Route handled by Terraform\n$ siege -c 255 -r 40 -b http://localhost:4000/v1/hello-world\n\nTransactions:             10200 hits\nAvailability:             100.00 %\nElapsed time:             13.59 secs\nData transferred:         0.11 MB\nResponse time:            0.32 secs\nTransaction rate:         750.55 trans/sec\nThroughput:               0.01 MB/sec\nConcurrency:              241.40\nSuccessful transactions:  10200\nFailed transactions:      0\nLongest transaction:      0.79\nShortest transaction:     0.03\n\n# Route handled by FooController\n$ siege -c 255 -r 40 -b http://localhost:4000/v1/foo\n\nTransactions:             10137 hits\nAvailability:             99.38 %\nElapsed time:             16.85 secs\nData transferred:         0.03 MB\nResponse time:            0.39 secs\nTransaction rate:         601.60 trans/sec\nThroughput:               0.00 MB/sec\nConcurrency:              235.74\nSuccessful transactions:  10137\nFailed transactions:      63\nLongest transaction:      1.03\nShortest transaction:     0.04</code></pre></div>\n<p>This was done via <a href=\"https://github.com/JoeDog/siege\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Siege</a>, with 255 concurrent connections doing 40 parallel requests each. That said, there will obviously be additional latency from having the Phoenix app send and return responses from your older API, so use your best judgement.</p>\n<h4 id=\"give-it-a-spin\" style=\"position:relative;\"><a href=\"#give-it-a-spin\" aria-label=\"give it a spin permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Give it a spin</h4>\n<p>Is <a href=\"https://pragprog.com/book/phoenix/programming-phoenix\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Phoenix</a> as productive, reliable, and fast as many claim? With Terraform, trying out Phoenix on your current API is almost risk-free. Handle a single, simple endpoint and compare it with the performance and developer experience of your current stack. You can also view a <a href=\"https://github.com/poteto/reverse_proxy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">simple demo of Terraform in action here</a>.</p>\n<p>Thanks for reading, and see you at <a href=\"http://elixirconf.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ElixirConf</a>!</p>","timeToRead":5,"fields":{"slug":"/2016-08-12-rise-from-the-ashes-incremental-apis-with-phoenix/"},"frontmatter":{"title":"Rise From the Ashes — Incremental APIs With Phoenix","shortDate":"August 12, 2016","longDate":"August 12, 2016, 5:26:46 pm","description":"Much has been said about the Elixir language and the Phoenix framework —Phoenix’s performance without compromise makes it a compelling…","categories":["engineering"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAFUwxyjQKwX/8QAGRAAAgMBAAAAAAAAAAAAAAAAAQIAERIx/9oACAEBAAEFAh1KEcC0m8uzWf/EABYRAAMAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAwEBPwERf//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/AWf/xAAaEAACAgMAAAAAAAAAAAAAAAAAEAERITFR/9oACAEBAAY/Ai54YWl//8QAGxAAAgMBAQEAAAAAAAAAAAAAAAERIVFxQYH/2gAIAQEAAT8h7fCPJGOiWTtD+aUHZrSwi+n/2gAMAwEAAgADAAAAEFQv/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxDFDap//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAgEBPxDpyBv/xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMVFB/9oACAEBAAE/ELGjHRVNpjqqrT57F/GQ/BngLXUuFRs7Fcfam6SjV6n/2Q==","aspectRatio":1.5,"src":"/static/02cdbbc2ce04236c1e34638939e04193/7f945/joshua-newton-274491-unsplash-optimized.jpg","srcSet":"/static/02cdbbc2ce04236c1e34638939e04193/e2788/joshua-newton-274491-unsplash-optimized.jpg 360w,\n/static/02cdbbc2ce04236c1e34638939e04193/7d509/joshua-newton-274491-unsplash-optimized.jpg 720w,\n/static/02cdbbc2ce04236c1e34638939e04193/7f945/joshua-newton-274491-unsplash-optimized.jpg 1440w,\n/static/02cdbbc2ce04236c1e34638939e04193/47dad/joshua-newton-274491-unsplash-optimized.jpg 2160w,\n/static/02cdbbc2ce04236c1e34638939e04193/af56c/joshua-newton-274491-unsplash-optimized.jpg 2880w,\n/static/02cdbbc2ce04236c1e34638939e04193/f2689/joshua-newton-274491-unsplash-optimized.jpg 7952w","sizes":"(max-width: 1440px) 100vw, 1440px"}}},"coverAuthor":"Joshua Newton","coverOriginalUrl":"https://unsplash.com/photos/Igct8iZucFI?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText","keywords":["elixir","phoenix","terraform","incremental rewrites","plug"],"published":true}}},"pageContext":{"slug":"/2016-08-12-rise-from-the-ashes-incremental-apis-with-phoenix/","previous":{"fields":{"slug":"/2016-06-28-component-dependency-injection-in-ember-js/"},"frontmatter":{"title":"Component dependency injection in Ember.js"}},"next":{"fields":{"slug":"/2017-05-30-i-am-still-learning/"},"frontmatter":{"title":"I Am Still Learning"}}}},"staticQueryHashes":["3009088689","63159454"]}